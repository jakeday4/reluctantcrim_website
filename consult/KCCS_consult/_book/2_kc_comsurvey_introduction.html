<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Kansas City Community Survey - 3&nbsp; Introduction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./3_kc_comsurvey_duplicates.html" rel="next">
<link href="./1_kc_comsurvey_exec-summary.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./2_kc_comsurvey_introduction.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Kansas City Community Survey</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Kansas City Community Survey</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_kc_comsurvey_exec-summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Executive Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_kc_comsurvey_introduction.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_kc_comsurvey_duplicates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Quality Assessment</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_kc_comsurvey_collective-efficacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Measuring Collective Efficacy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_kc_comsurvey_map-collective-efficacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Mapping Collective Efficacy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_kc_comsurvey_resident-survey-comp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Annual Resident Survey Comparison</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7_kc_comsurvey_conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8_kc_comsurvey_appendix1-survey-data-clean.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Appendix I - Cleaning &amp; Wrangling the Survey Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9_kc_comsurvey_appendix2-neighborhood-data-clean.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Appendix II - Cleaning &amp; Wrangling the Neighborhood Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_kc_comsurvey_appendix3-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Appendix III - Research Design</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_kc_comsurvey_appendix4-power.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Appendix IV - Power Analysis</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#theoretical-framework-and-research-context" id="toc-theoretical-framework-and-research-context" class="nav-link active" data-scroll-target="#theoretical-framework-and-research-context"><span class="header-section-number">3.1</span> Theoretical Framework and Research Context</a></li>
  <li><a href="#methodological-innovation" id="toc-methodological-innovation" class="nav-link" data-scroll-target="#methodological-innovation"><span class="header-section-number">3.2</span> Methodological Innovation</a></li>
  <li><a href="#analytical-approach" id="toc-analytical-approach" class="nav-link" data-scroll-target="#analytical-approach"><span class="header-section-number">3.3</span> Analytical Approach</a></li>
  <li><a href="#structure-and-organization" id="toc-structure-and-organization" class="nav-link" data-scroll-target="#structure-and-organization"><span class="header-section-number">3.4</span> Structure and Organization</a></li>
  <li><a href="#broader-implications" id="toc-broader-implications" class="nav-link" data-scroll-target="#broader-implications"><span class="header-section-number">3.5</span> Broader Implications</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This report presents the results of consulting work done to support an innovative community-based survey project conducted in Kansas City, Missouri, that, among other things, sought to understand residents’ perceptions of neighborhood safety, collective efficacy, and police-community relations. The project illustrates the significant methodological value of community-engaged research by employing community members as interviewers to reach populations that can be underrepresented in traditional municipal surveys. Indeed, the Kansas City Community Survey emerged from recognition of a critical gap in municipal research: Traditional survey methods may fail to capture the voices and experiences of residents in high-crime neighborhoods who may be most affected by public safety policies but, for various reasons, least likely to participate in conventional data collection efforts.</p>
<section id="theoretical-framework-and-research-context" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="theoretical-framework-and-research-context"><span class="header-section-number">3.1</span> Theoretical Framework and Research Context</h2>
<p>The project is, in part, grounded in collective efficacy theory, developed by Sampson, Raudenbush, and Earls (1997), which posits that neighborhoods with strong social cohesion and informal social control are better able to prevent crime and maintain safety. This theory has become foundational to understanding how neighborhood social processes influence crime rates, but most research has relied on traditional survey methods that may systematically exclude the very communities where these processes are most critical to understand.</p>
<p>The analyses presented in this report extends this research by examining collective efficacy through multiple analytical lenses: individual-level relationships between social cohesion, informal social control, and crime perceptions; neighborhood-level aggregation and spatial analysis; and methodological comparison with established municipal survey instruments. This multi-faceted approach provides both validation of existing theory and new insights into how collective efficacy operates across diverse urban neighborhoods.</p>
</section>
<section id="methodological-innovation" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="methodological-innovation"><span class="header-section-number">3.2</span> Methodological Innovation</h2>
<p>A central contribution of this project lies in its methodological approach. Rather than relying solely on mail, phone, or online surveys - methods that can suffer from low response rates in high-crime neighborhoods - the project employed community members as trained interviewers. This approach was designed to build trust, reduce barriers to participation, and capture authentic community perspectives on sensitive topics like policing and neighborhood safety.</p>
<p>The survey sampled 40 Kansas City neighborhoods using a stratified design that included both randomly selected neighborhoods and purposively selected high-crime areas. This sampling strategy allowed for comparison between different neighborhood contexts while ensuring adequate representation from communities that are often excluded from municipal research. The resulting dataset includes responses from 386 residents across diverse neighborhood contexts, with particularly strong representation from high-crime areas relative to the city’s traditional annual resident survey.</p>
</section>
<section id="analytical-approach" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="analytical-approach"><span class="header-section-number">3.3</span> Analytical Approach</h2>
<p>The analysis presented across the following four chapters employs several methodological approaches that advance both community research methods and substantive understanding of neighborhood social processes:</p>
<p><strong>Data Quality Assessment</strong>: Recognizing that community-based data collection might raise questions about data integrity, the project includes a comprehensive duplication analysis using both exact matching and near-duplication detection methods. This analysis provides evidence that the community-based approach maintained high data quality standards while successfully reaching underrepresented populations.</p>
<p><strong>Item-Level Analysis</strong>: Rather than relying solely on scale-based measures, the analysis examines collective efficacy at the item level, revealing important heterogeneity in how different aspects of social cohesion and informal social control relate to crime and safety perceptions. This approach demonstrates that certain dimensions of collective efficacy (such as willingness to intervene in clearly problematic situations) may be more directly relevant to crime prevention than others.</p>
<p><strong>Ordinal Modeling Approaches</strong>: The project employs analytic methods specifically designed for ordinal data, including polychoric correlations and mosaic plots, which better match the inherent data-generating process of Likert-type survey responses than traditional linear approaches. This methodological choice provides more accurate estimates of relationships between variables while demonstrating the value of using statistically appropriate methods for survey data.</p>
<p><strong>Spatial Analysis</strong>: The analysis includes mapping and spatial analysis that examines how collective efficacy and crime perceptions cluster geographically across Kansas City neighborhoods. This spatial perspective reveals important patterns in how neighborhood social processes relate to both official crime statistics and residents’ lived experiences.</p>
<p><strong>Methodological Validation</strong>: The project includes direct comparison with Kansas City’s established annual resident survey, providing evidence that the community-based methodology produces reliable results while reaching previously excluded populations.</p>
</section>
<section id="structure-and-organization" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="structure-and-organization"><span class="header-section-number">3.4</span> Structure and Organization</h2>
<p>The analysis is presented across four interconnected chapters, each contributing essential insights to our understanding of community-based research methods and neighborhood social processes:</p>
<p><strong>Chapter 4: Data Quality Assessment</strong> provides a rigorous examination of data integrity using duplication detection methods. This analysis demonstrates that community-based data collection maintained high quality standards, with minimal true duplication and no evidence of systematic data fabrication. The findings validate the community-based methodology while highlighting the importance of systematic quality checks in survey research (see <a href="3_kc_comsurvey_duplicates.html#sec-dup" class="quarto-xref"><span>Section 4.0.1</span></a>).</p>
<p><strong>Chapter 5: Measuring Collective Efficacy</strong> presents a comprehensive item-level analysis of collective efficacy and its relationships with crime perceptions and victimization experiences. Using ordinal modeling techniques and detailed bivariate analysis, this chapter demonstrates both support for collective efficacy theory and important heterogeneity in how different aspects of neighborhood social organization relate to crime outcomes in the KC Community Survey data (see <a href="4_kc_comsurvey_collective-efficacy.html#sec-coleff" class="quarto-xref"><span>Section 5.0.1</span></a>).</p>
<p><strong>Chapter 6: Mapping Collective Efficacy</strong> extends the analysis of collective efficacy to the neighborhood level, examining how collective efficacy and crime perceptions cluster geographically across Kansas City. Through bivariate mapping techniques, this chapter reveals spatial patterns that largely confirm theoretical predictions while highlighting discrepancies between residents’ perceptions and official crime statistics (see <a href="5_kc_comsurvey_map-collective-efficacy.html#sec-map" class="quarto-xref"><span>Section 6.0.1</span></a>) .</p>
<p><strong>Chapter 7: Annual Resident Survey Comparison</strong> provides direct validation of the community-based methodology through comparison with Kansas City’s established annual resident survey. This analysis demonstrates that the community-engaged approach produces reliable results while nearly eliminating substantial sampling disparities by successfully engaging populations typically excluded from traditional municipal surveys (see <a href="6_kc_comsurvey_resident-survey-comp.html#sec-kcrs" class="quarto-xref"><span>Section 7.0.1</span></a>) .</p>
</section>
<section id="broader-implications" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="broader-implications"><span class="header-section-number">3.5</span> Broader Implications</h2>
<p>This project contributes to several important conversations in urban research, community engagement, and evidence-based policy. Methodologically, it demonstrates that community-engaged approaches can maintain scientific rigor while expanding participation. Theoretically, it provides support for and refinement of collective efficacy theory, revealing important item-level heterogeneity that can inform more targeted interventions. Practically, it may also offer a model for how municipalities can gather more inclusive and representative data to inform policy decisions.</p>
<p>Our hope is that the analyses presented in this report can help show that the Kansas City Community Survey project represents more than a methodological experiment. It may demonstrate a pathway toward more inclusive, community-centered research that serves both scientific understanding and community empowerment. As cities across the United States grapple with issues of police-community relations, neighborhood safety, and community development, this project has the potential to provide both substantive insights and methodological tools for engaging communities as partners in research and policy development.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-brauer_pursuing_2025" class="csl-entry" role="listitem">
Brauer, Jonathan, and Jacob Day. 2025. <span>“Pursuing <span>Precision</span> in <span>Criminology</span>: <span>Why</span> <span>Ordinal</span> <span>Data</span> <span>Demand</span> <span>Ordinal</span> <span>Methods</span>.”</span> OSF. <a href="https://doi.org/10.31235/osf.io/fet4d_v1">https://doi.org/10.31235/osf.io/fet4d_v1</a>.
</div>
<div id="ref-day_trust_2023" class="csl-entry" role="listitem">
Day, Jake, Jon Brauer, and Maja Kotlaja. 2023. <span>“Trust <span>Issues</span>: <span>Examining</span> <span>Near</span> <span>Duplicates</span> in <span>Survey</span> <span>Data</span>.”</span> <a href="https://reluctantcriminologists.com/blog-posts/%5B8%5D/dup-series/duplicates">https://reluctantcriminologists.com/blog-posts/%5B8%5D/dup-series/duplicates</a>.
</div>
<div id="ref-kuriakose_dont_2015" class="csl-entry" role="listitem">
Kuriakose, Noble, and Michael Robbins. 2015. <span>“Don’t <span>Get</span> <span>Duped</span>: <span>Fraud</span> Through <span>Duplication</span> in <span>Public</span> <span>Opinion</span> <span>Surveys</span>.”</span> {SSRN} {Scholarly} {Paper}. Rochester, NY: Social Science Research Network. <a href="https://papers.ssrn.com/abstract=2580502">https://papers.ssrn.com/abstract=2580502</a>.
</div>
<div id="ref-revelle_seductive_2024" class="csl-entry" role="listitem">
Revelle, William. 2024. <span>“The Seductive Beauty of Latent Variable Models: <span>Or</span> Why <span>I</span> Don’t Believe in the <span>Easter</span> <span>Bunny</span>.”</span> <em>Personality and Individual Differences</em> 221 (April): 112552. <a href="https://doi.org/10.1016/j.paid.2024.112552">https://doi.org/10.1016/j.paid.2024.112552</a>.
</div>
<div id="ref-sampson_neighborhoods_1997" class="csl-entry" role="listitem">
Sampson, Robert J., Stephen W. Raudenbush, and Felton Earls. 1997. <span>“Neighborhoods and <span>Violent</span> <span>Crime</span>: <span>A</span> <span>Multilevel</span> <span>Study</span> of <span>Collective</span> <span>Efficacy</span>.”</span> <em>Science</em> 277 (5328): 918–24. <a href="https://doi.org/10.1126/science.277.5328.918">https://doi.org/10.1126/science.277.5328.918</a>.
</div>
<div id="ref-wheeler_survey_2023" class="csl-entry" role="listitem">
Wheeler, Andrew. 2023. <span>“Survey Duplicates and Other Stuff.”</span> <em>Andrew Wheeler</em>. <a href="https://andrewpwheeler.com/2023/10/13/survey-duplicates-and-other-stuff/">https://andrewpwheeler.com/2023/10/13/survey-duplicates-and-other-stuff/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./1_kc_comsurvey_exec-summary.html" class="pagination-link" aria-label="Executive Summary">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Executive Summary</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./3_kc_comsurvey_duplicates.html" class="pagination-link" aria-label="Data Quality Assessment">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Quality Assessment</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>